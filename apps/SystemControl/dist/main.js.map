{"version":3,"file":"main.js","sources":["webpack://SystemControl/webpack/runtime/make_namespace_object","webpack://SystemControl/./node_modules/@osjs/gui/src/provider.js","webpack://SystemControl/./node_modules/hyperapp/src/index.js","webpack://SystemControl/./node_modules/@osjs/gui/node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack://SystemControl/./node_modules/@osjs/gui/node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack://SystemControl/./node_modules/@osjs/gui/node_modules/@babel/runtime/helpers/iterableToArray.js","webpack://SystemControl/./node_modules/@osjs/gui/node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack://SystemControl/./node_modules/@osjs/gui/node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack://SystemControl/./node_modules/@osjs/gui/node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack://SystemControl/./node_modules/@osjs/gui/node_modules/hyperapp/src/index.js","webpack://SystemControl/./node_modules/@osjs/gui/src/components/Element.js","webpack://SystemControl/./node_modules/@osjs/gui/src/components/Box.js","webpack://SystemControl/./node_modules/@osjs/gui/node_modules/@babel/runtime/helpers/typeof.js","webpack://SystemControl/./node_modules/@osjs/gui/src/components/BoxStyled.js","webpack://SystemControl/./node_modules/@osjs/gui/src/components/Icon.js","webpack://SystemControl/./node_modules/@osjs/gui/node_modules/@babel/runtime/helpers/defineProperty.js","webpack://SystemControl/./node_modules/@osjs/gui/src/utils.js","webpack://SystemControl/./node_modules/@osjs/gui/src/element.js","webpack://SystemControl/./node_modules/@osjs/gui/src/components/Button.js","webpack://SystemControl/./node_modules/@osjs/gui/src/components/Menu.js","webpack://SystemControl/./node_modules/@osjs/gui/node_modules/hyperapp-nestable/src/index.js","webpack://SystemControl/./node_modules/@osjs/gui/src/components/Panes.js","webpack://SystemControl/./node_modules/@osjs/gui/src/components/Tabs.js","webpack://SystemControl/./node_modules/@osjs/gui/src/components/ListView.js","webpack://SystemControl/./node_modules/@osjs/gui/src/components/IconView.js","webpack://SystemControl/./node_modules/@osjs/gui/node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack://SystemControl/./node_modules/@osjs/gui/src/components/Expander.js","webpack://SystemControl/./node_modules/@osjs/gui/src/components/Label.js","webpack://SystemControl/./node_modules/@osjs/gui/node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://SystemControl/./node_modules/@osjs/gui/node_modules/@babel/runtime/helpers/createClass.js","webpack://SystemControl/./node_modules/@osjs/gui/node_modules/regenerator-runtime/runtime.js","webpack://SystemControl/./node_modules/@osjs/gui/src/contextmenu.js","webpack://SystemControl/./node_modules/@osjs/gui/node_modules/@babel/runtime/regenerator/index.js","webpack://SystemControl/./index.js"],"sourcesContent":["// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {ContextMenu} from './contextmenu.js';\n\n/*\n * Check if a target allows for context menu\n */\nconst validContextMenuTarget = ev => {\n  const target = ev.target;\n  let isValid = target.tagName === 'TEXTAREA';\n  if (!isValid && target.tagName === 'INPUT') {\n    isValid = ['text', 'password', 'number', 'email'].indexOf(target.type) !== -1;\n  }\n\n  return isValid;\n};\n\n/**\n * OS.js GUI Service Provider\n *\n * @desc Provides wrapper services around GUI features\n */\nexport class GUIServiceProvider {\n\n  constructor(core) {\n    this.core = core;\n    this.contextmenu = new ContextMenu(core);\n  }\n\n  destroy() {\n    const menu = document.getElementById('osjs-context-menu');\n    if (menu) {\n      menu.remove();\n    }\n\n    this.contextmenu.destroy();\n  }\n\n  async init() {\n    const contextmenuApi = {\n      show: (...args) => this.contextmenu.show(...args),\n      hide: (...args) => this.contextmenu.hide(...args)\n    };\n\n    this.core.instance('osjs/contextmenu', (...args) => {\n      if (args.length) {\n        return contextmenuApi.show(...args);\n      }\n\n      return contextmenuApi;\n    });\n\n    this.core.$root.addEventListener('contextmenu', (ev) => {\n      if (validContextMenuTarget(ev)) {\n        return;\n      }\n\n      ev.stopPropagation();\n      ev.preventDefault();\n    });\n  }\n\n  start() {\n    const callback = ev => {\n      const menu = document.getElementById('osjs-context-menu');\n      const hit = menu && menu.contains(ev.target);\n\n      if (!hit && this.contextmenu) {\n        this.contextmenu.hide();\n      }\n    };\n\n    this.core.$root.addEventListener('click', callback, true);\n    this.core.once('destroy', () => {\n      this.core.$root.removeEventListener('click', callback, true);\n    });\n\n    this.contextmenu.init();\n  }\n}\n","export function h(name, attributes) {\n  var rest = []\n  var children = []\n  var length = arguments.length\n\n  while (length-- > 2) rest.push(arguments[length])\n\n  while (rest.length) {\n    var node = rest.pop()\n    if (node && node.pop) {\n      for (length = node.length; length--; ) {\n        rest.push(node[length])\n      }\n    } else if (node != null && node !== true && node !== false) {\n      children.push(node)\n    }\n  }\n\n  return typeof name === \"function\"\n    ? name(attributes || {}, children)\n    : {\n        nodeName: name,\n        attributes: attributes || {},\n        children: children,\n        key: attributes && attributes.key\n      }\n}\n\nexport function app(state, actions, view, container) {\n  var map = [].map\n  var rootElement = (container && container.children[0]) || null\n  var oldNode = rootElement && recycleElement(rootElement)\n  var lifecycle = []\n  var skipRender\n  var isRecycling = true\n  var globalState = clone(state)\n  var wiredActions = wireStateToActions([], globalState, clone(actions))\n\n  scheduleRender()\n\n  return wiredActions\n\n  function recycleElement(element) {\n    return {\n      nodeName: element.nodeName.toLowerCase(),\n      attributes: {},\n      children: map.call(element.childNodes, function(element) {\n        return element.nodeType === 3 // Node.TEXT_NODE\n          ? element.nodeValue\n          : recycleElement(element)\n      })\n    }\n  }\n\n  function resolveNode(node) {\n    return typeof node === \"function\"\n      ? resolveNode(node(globalState, wiredActions))\n      : node != null\n        ? node\n        : \"\"\n  }\n\n  function render() {\n    skipRender = !skipRender\n\n    var node = resolveNode(view)\n\n    if (container && !skipRender) {\n      rootElement = patch(container, rootElement, oldNode, (oldNode = node))\n    }\n\n    isRecycling = false\n\n    while (lifecycle.length) lifecycle.pop()()\n  }\n\n  function scheduleRender() {\n    if (!skipRender) {\n      skipRender = true\n      setTimeout(render)\n    }\n  }\n\n  function clone(target, source) {\n    var out = {}\n\n    for (var i in target) out[i] = target[i]\n    for (var i in source) out[i] = source[i]\n\n    return out\n  }\n\n  function setPartialState(path, value, source) {\n    var target = {}\n    if (path.length) {\n      target[path[0]] =\n        path.length > 1\n          ? setPartialState(path.slice(1), value, source[path[0]])\n          : value\n      return clone(source, target)\n    }\n    return value\n  }\n\n  function getPartialState(path, source) {\n    var i = 0\n    while (i < path.length) {\n      source = source[path[i++]]\n    }\n    return source\n  }\n\n  function wireStateToActions(path, state, actions) {\n    for (var key in actions) {\n      typeof actions[key] === \"function\"\n        ? (function(key, action) {\n            actions[key] = function(data) {\n              var result = action(data)\n\n              if (typeof result === \"function\") {\n                result = result(getPartialState(path, globalState), actions)\n              }\n\n              if (\n                result &&\n                result !== (state = getPartialState(path, globalState)) &&\n                !result.then // !isPromise\n              ) {\n                scheduleRender(\n                  (globalState = setPartialState(\n                    path,\n                    clone(state, result),\n                    globalState\n                  ))\n                )\n              }\n\n              return result\n            }\n          })(key, actions[key])\n        : wireStateToActions(\n            path.concat(key),\n            (state[key] = clone(state[key])),\n            (actions[key] = clone(actions[key]))\n          )\n    }\n\n    return actions\n  }\n\n  function getKey(node) {\n    return node ? node.key : null\n  }\n\n  function eventListener(event) {\n    return event.currentTarget.events[event.type](event)\n  }\n\n  function updateAttribute(element, name, value, oldValue, isSvg) {\n    if (name === \"key\") {\n    } else if (name === \"style\") {\n      if (typeof value === \"string\") {\n        element.style.cssText = value\n      } else {\n        if (typeof oldValue === \"string\") oldValue = element.style.cssText = \"\"\n        for (var i in clone(oldValue, value)) {\n          var style = value == null || value[i] == null ? \"\" : value[i]\n          if (i[0] === \"-\") {\n            element.style.setProperty(i, style)\n          } else {\n            element.style[i] = style\n          }\n        }\n      }\n    } else {\n      if (name[0] === \"o\" && name[1] === \"n\") {\n        name = name.slice(2)\n\n        if (element.events) {\n          if (!oldValue) oldValue = element.events[name]\n        } else {\n          element.events = {}\n        }\n\n        element.events[name] = value\n\n        if (value) {\n          if (!oldValue) {\n            element.addEventListener(name, eventListener)\n          }\n        } else {\n          element.removeEventListener(name, eventListener)\n        }\n      } else if (\n        name in element &&\n        name !== \"list\" &&\n        name !== \"type\" &&\n        name !== \"draggable\" &&\n        name !== \"spellcheck\" &&\n        name !== \"translate\" &&\n        !isSvg\n      ) {\n        element[name] = value == null ? \"\" : value\n      } else if (value != null && value !== false) {\n        element.setAttribute(name, value)\n      }\n\n      if (value == null || value === false) {\n        element.removeAttribute(name)\n      }\n    }\n  }\n\n  function createElement(node, isSvg) {\n    var element =\n      typeof node === \"string\" || typeof node === \"number\"\n        ? document.createTextNode(node)\n        : (isSvg = isSvg || node.nodeName === \"svg\")\n          ? document.createElementNS(\n              \"http://www.w3.org/2000/svg\",\n              node.nodeName\n            )\n          : document.createElement(node.nodeName)\n\n    var attributes = node.attributes\n    if (attributes) {\n      if (attributes.oncreate) {\n        lifecycle.push(function() {\n          attributes.oncreate(element)\n        })\n      }\n\n      for (var i = 0; i < node.children.length; i++) {\n        element.appendChild(\n          createElement(\n            (node.children[i] = resolveNode(node.children[i])),\n            isSvg\n          )\n        )\n      }\n\n      for (var name in attributes) {\n        updateAttribute(element, name, attributes[name], null, isSvg)\n      }\n    }\n\n    return element\n  }\n\n  function updateElement(element, oldAttributes, attributes, isSvg) {\n    for (var name in clone(oldAttributes, attributes)) {\n      if (\n        attributes[name] !==\n        (name === \"value\" || name === \"checked\"\n          ? element[name]\n          : oldAttributes[name])\n      ) {\n        updateAttribute(\n          element,\n          name,\n          attributes[name],\n          oldAttributes[name],\n          isSvg\n        )\n      }\n    }\n\n    var cb = isRecycling ? attributes.oncreate : attributes.onupdate\n    if (cb) {\n      lifecycle.push(function() {\n        cb(element, oldAttributes)\n      })\n    }\n  }\n\n  function removeChildren(element, node) {\n    var attributes = node.attributes\n    if (attributes) {\n      for (var i = 0; i < node.children.length; i++) {\n        removeChildren(element.childNodes[i], node.children[i])\n      }\n\n      if (attributes.ondestroy) {\n        attributes.ondestroy(element)\n      }\n    }\n    return element\n  }\n\n  function removeElement(parent, element, node) {\n    function done() {\n      parent.removeChild(removeChildren(element, node))\n    }\n\n    var cb = node.attributes && node.attributes.onremove\n    if (cb) {\n      cb(element, done)\n    } else {\n      done()\n    }\n  }\n\n  function patch(parent, element, oldNode, node, isSvg) {\n    if (node === oldNode) {\n    } else if (oldNode == null || oldNode.nodeName !== node.nodeName) {\n      var newElement = createElement(node, isSvg)\n      parent.insertBefore(newElement, element)\n\n      if (oldNode != null) {\n        removeElement(parent, element, oldNode)\n      }\n\n      element = newElement\n    } else if (oldNode.nodeName == null) {\n      element.nodeValue = node\n    } else {\n      updateElement(\n        element,\n        oldNode.attributes,\n        node.attributes,\n        (isSvg = isSvg || node.nodeName === \"svg\")\n      )\n\n      var oldKeyed = {}\n      var newKeyed = {}\n      var oldElements = []\n      var oldChildren = oldNode.children\n      var children = node.children\n\n      for (var i = 0; i < oldChildren.length; i++) {\n        oldElements[i] = element.childNodes[i]\n\n        var oldKey = getKey(oldChildren[i])\n        if (oldKey != null) {\n          oldKeyed[oldKey] = [oldElements[i], oldChildren[i]]\n        }\n      }\n\n      var i = 0\n      var k = 0\n\n      while (k < children.length) {\n        var oldKey = getKey(oldChildren[i])\n        var newKey = getKey((children[k] = resolveNode(children[k])))\n\n        if (newKeyed[oldKey]) {\n          i++\n          continue\n        }\n\n        if (newKey != null && newKey === getKey(oldChildren[i + 1])) {\n          if (oldKey == null) {\n            removeElement(element, oldElements[i], oldChildren[i])\n          }\n          i++\n          continue\n        }\n\n        if (newKey == null || isRecycling) {\n          if (oldKey == null) {\n            patch(element, oldElements[i], oldChildren[i], children[k], isSvg)\n            k++\n          }\n          i++\n        } else {\n          var keyedNode = oldKeyed[newKey] || []\n\n          if (oldKey === newKey) {\n            patch(element, keyedNode[0], keyedNode[1], children[k], isSvg)\n            i++\n          } else if (keyedNode[0]) {\n            patch(\n              element,\n              element.insertBefore(keyedNode[0], oldElements[i]),\n              keyedNode[1],\n              children[k],\n              isSvg\n            )\n          } else {\n            patch(element, oldElements[i], null, children[k], isSvg)\n          }\n\n          newKeyed[newKey] = children[k]\n          k++\n        }\n      }\n\n      while (i < oldChildren.length) {\n        if (getKey(oldChildren[i]) == null) {\n          removeElement(element, oldElements[i], oldChildren[i])\n        }\n        i++\n      }\n\n      for (var i in oldKeyed) {\n        if (!newKeyed[i]) {\n          removeElement(element, oldKeyed[i][0], oldKeyed[i][1])\n        }\n      }\n    }\n    return element\n  }\n}\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\n\nvar iterableToArray = require(\"./iterableToArray.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","export function h(name, attributes) {\n  var rest = []\n  var children = []\n  var length = arguments.length\n\n  while (length-- > 2) rest.push(arguments[length])\n\n  while (rest.length) {\n    var node = rest.pop()\n    if (node && node.pop) {\n      for (length = node.length; length--; ) {\n        rest.push(node[length])\n      }\n    } else if (node != null && node !== true && node !== false) {\n      children.push(node)\n    }\n  }\n\n  return typeof name === \"function\"\n    ? name(attributes || {}, children)\n    : {\n        nodeName: name,\n        attributes: attributes || {},\n        children: children,\n        key: attributes && attributes.key\n      }\n}\n\nexport function app(state, actions, view, container) {\n  var map = [].map\n  var rootElement = (container && container.children[0]) || null\n  var oldNode = rootElement && recycleElement(rootElement)\n  var lifecycle = []\n  var skipRender\n  var isRecycling = true\n  var globalState = clone(state)\n  var wiredActions = wireStateToActions([], globalState, clone(actions))\n\n  scheduleRender()\n\n  return wiredActions\n\n  function recycleElement(element) {\n    return {\n      nodeName: element.nodeName.toLowerCase(),\n      attributes: {},\n      children: map.call(element.childNodes, function(element) {\n        return element.nodeType === 3 // Node.TEXT_NODE\n          ? element.nodeValue\n          : recycleElement(element)\n      })\n    }\n  }\n\n  function resolveNode(node) {\n    return typeof node === \"function\"\n      ? resolveNode(node(globalState, wiredActions))\n      : node != null\n        ? node\n        : \"\"\n  }\n\n  function render() {\n    skipRender = !skipRender\n\n    var node = resolveNode(view)\n\n    if (container && !skipRender) {\n      rootElement = patch(container, rootElement, oldNode, (oldNode = node))\n    }\n\n    isRecycling = false\n\n    while (lifecycle.length) lifecycle.pop()()\n  }\n\n  function scheduleRender() {\n    if (!skipRender) {\n      skipRender = true\n      setTimeout(render)\n    }\n  }\n\n  function clone(target, source) {\n    var out = {}\n\n    for (var i in target) out[i] = target[i]\n    for (var i in source) out[i] = source[i]\n\n    return out\n  }\n\n  function setPartialState(path, value, source) {\n    var target = {}\n    if (path.length) {\n      target[path[0]] =\n        path.length > 1\n          ? setPartialState(path.slice(1), value, source[path[0]])\n          : value\n      return clone(source, target)\n    }\n    return value\n  }\n\n  function getPartialState(path, source) {\n    var i = 0\n    while (i < path.length) {\n      source = source[path[i++]]\n    }\n    return source\n  }\n\n  function wireStateToActions(path, state, actions) {\n    for (var key in actions) {\n      typeof actions[key] === \"function\"\n        ? (function(key, action) {\n            actions[key] = function(data) {\n              var result = action(data)\n\n              if (typeof result === \"function\") {\n                result = result(getPartialState(path, globalState), actions)\n              }\n\n              if (\n                result &&\n                result !== (state = getPartialState(path, globalState)) &&\n                !result.then // !isPromise\n              ) {\n                scheduleRender(\n                  (globalState = setPartialState(\n                    path,\n                    clone(state, result),\n                    globalState\n                  ))\n                )\n              }\n\n              return result\n            }\n          })(key, actions[key])\n        : wireStateToActions(\n            path.concat(key),\n            (state[key] = clone(state[key])),\n            (actions[key] = clone(actions[key]))\n          )\n    }\n\n    return actions\n  }\n\n  function getKey(node) {\n    return node ? node.key : null\n  }\n\n  function eventListener(event) {\n    return event.currentTarget.events[event.type](event)\n  }\n\n  function updateAttribute(element, name, value, oldValue, isSvg) {\n    if (name === \"key\") {\n    } else if (name === \"style\") {\n      if (typeof value === \"string\") {\n        element.style.cssText = value\n      } else {\n        if (typeof oldValue === \"string\") oldValue = element.style.cssText = \"\"\n        for (var i in clone(oldValue, value)) {\n          var style = value == null || value[i] == null ? \"\" : value[i]\n          if (i[0] === \"-\") {\n            element.style.setProperty(i, style)\n          } else {\n            element.style[i] = style\n          }\n        }\n      }\n    } else {\n      if (name[0] === \"o\" && name[1] === \"n\") {\n        name = name.slice(2)\n\n        if (element.events) {\n          if (!oldValue) oldValue = element.events[name]\n        } else {\n          element.events = {}\n        }\n\n        element.events[name] = value\n\n        if (value) {\n          if (!oldValue) {\n            element.addEventListener(name, eventListener)\n          }\n        } else {\n          element.removeEventListener(name, eventListener)\n        }\n      } else if (\n        name in element &&\n        name !== \"list\" &&\n        name !== \"type\" &&\n        name !== \"draggable\" &&\n        name !== \"spellcheck\" &&\n        name !== \"translate\" &&\n        !isSvg\n      ) {\n        element[name] = value == null ? \"\" : value\n      } else if (value != null && value !== false) {\n        element.setAttribute(name, value)\n      }\n\n      if (value == null || value === false) {\n        element.removeAttribute(name)\n      }\n    }\n  }\n\n  function createElement(node, isSvg) {\n    var element =\n      typeof node === \"string\" || typeof node === \"number\"\n        ? document.createTextNode(node)\n        : (isSvg = isSvg || node.nodeName === \"svg\")\n          ? document.createElementNS(\n              \"http://www.w3.org/2000/svg\",\n              node.nodeName\n            )\n          : document.createElement(node.nodeName)\n\n    var attributes = node.attributes\n    if (attributes) {\n      if (attributes.oncreate) {\n        lifecycle.push(function() {\n          attributes.oncreate(element)\n        })\n      }\n\n      for (var i = 0; i < node.children.length; i++) {\n        element.appendChild(\n          createElement(\n            (node.children[i] = resolveNode(node.children[i])),\n            isSvg\n          )\n        )\n      }\n\n      for (var name in attributes) {\n        updateAttribute(element, name, attributes[name], null, isSvg)\n      }\n    }\n\n    return element\n  }\n\n  function updateElement(element, oldAttributes, attributes, isSvg) {\n    for (var name in clone(oldAttributes, attributes)) {\n      if (\n        attributes[name] !==\n        (name === \"value\" || name === \"checked\"\n          ? element[name]\n          : oldAttributes[name])\n      ) {\n        updateAttribute(\n          element,\n          name,\n          attributes[name],\n          oldAttributes[name],\n          isSvg\n        )\n      }\n    }\n\n    var cb = isRecycling ? attributes.oncreate : attributes.onupdate\n    if (cb) {\n      lifecycle.push(function() {\n        cb(element, oldAttributes)\n      })\n    }\n  }\n\n  function removeChildren(element, node) {\n    var attributes = node.attributes\n    if (attributes) {\n      for (var i = 0; i < node.children.length; i++) {\n        removeChildren(element.childNodes[i], node.children[i])\n      }\n\n      if (attributes.ondestroy) {\n        attributes.ondestroy(element)\n      }\n    }\n    return element\n  }\n\n  function removeElement(parent, element, node) {\n    function done() {\n      parent.removeChild(removeChildren(element, node))\n    }\n\n    var cb = node.attributes && node.attributes.onremove\n    if (cb) {\n      cb(element, done)\n    } else {\n      done()\n    }\n  }\n\n  function patch(parent, element, oldNode, node, isSvg) {\n    if (node === oldNode) {\n    } else if (oldNode == null || oldNode.nodeName !== node.nodeName) {\n      var newElement = createElement(node, isSvg)\n      parent.insertBefore(newElement, element)\n\n      if (oldNode != null) {\n        removeElement(parent, element, oldNode)\n      }\n\n      element = newElement\n    } else if (oldNode.nodeName == null) {\n      element.nodeValue = node\n    } else {\n      updateElement(\n        element,\n        oldNode.attributes,\n        node.attributes,\n        (isSvg = isSvg || node.nodeName === \"svg\")\n      )\n\n      var oldKeyed = {}\n      var newKeyed = {}\n      var oldElements = []\n      var oldChildren = oldNode.children\n      var children = node.children\n\n      for (var i = 0; i < oldChildren.length; i++) {\n        oldElements[i] = element.childNodes[i]\n\n        var oldKey = getKey(oldChildren[i])\n        if (oldKey != null) {\n          oldKeyed[oldKey] = [oldElements[i], oldChildren[i]]\n        }\n      }\n\n      var i = 0\n      var k = 0\n\n      while (k < children.length) {\n        var oldKey = getKey(oldChildren[i])\n        var newKey = getKey((children[k] = resolveNode(children[k])))\n\n        if (newKeyed[oldKey]) {\n          i++\n          continue\n        }\n\n        if (newKey != null && newKey === getKey(oldChildren[i + 1])) {\n          if (oldKey == null) {\n            removeElement(element, oldElements[i], oldChildren[i])\n          }\n          i++\n          continue\n        }\n\n        if (newKey == null || isRecycling) {\n          if (oldKey == null) {\n            patch(element, oldElements[i], oldChildren[i], children[k], isSvg)\n            k++\n          }\n          i++\n        } else {\n          var keyedNode = oldKeyed[newKey] || []\n\n          if (oldKey === newKey) {\n            patch(element, keyedNode[0], keyedNode[1], children[k], isSvg)\n            i++\n          } else if (keyedNode[0]) {\n            patch(\n              element,\n              element.insertBefore(keyedNode[0], oldElements[i]),\n              keyedNode[1],\n              children[k],\n              isSvg\n            )\n          } else {\n            patch(element, oldElements[i], null, children[k], isSvg)\n          }\n\n          newKeyed[newKey] = children[k]\n          k++\n        }\n      }\n\n      while (i < oldChildren.length) {\n        if (getKey(oldChildren[i]) == null) {\n          removeElement(element, oldElements[i], oldChildren[i])\n        }\n        i++\n      }\n\n      for (var i in oldKeyed) {\n        if (!newKeyed[i]) {\n          removeElement(element, oldKeyed[i][0], oldKeyed[i][1])\n        }\n      }\n    }\n    return element\n  }\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\n\n/**\n * Elemet Box definition\n * @property {string} [class] Container class name\n * @property {number} [grow] Flexbox grow value\n * @property {number} [shrink] Flexbox shrink value\n * @property {number|string} [basis] Flexbox basis value\n * @property {string} [align] Flexbox alignItems value\n * @property {string} [justify] Flexbox justifyContent value\n * @property {number|string} [padding] Margin\n * @property {number|string} [margin] Margin\n * @property {string} [key] Hyperapp element key\n * @property {Function} [oncreate] Hyperapp oncreate function\n * @property {Function} [onupdate] Hyperapp onupdate function\n * @property {Function} [ondestroy] Hyperapp ondestroy function\n * @typedef BoxProperties\n */\n\nconst unitValue = (value, unset) => typeof value === 'number'\n  ? `${value}px`\n  : (value === false ? unset : value);\n\nconst boxPropNames = {\n  grow: value => ({flexGrow: value}),\n  shrink: value => ({flexShrink: value}),\n  basis: value => ({flexBasis: unitValue(value, 'auto')}),\n  align: value => ({alignItems: value}),\n  justify: value => ({justifyContent: value}),\n  padding: value => ({margin: unitValue(value, '0')}),\n  margin: value => ({margin: unitValue(value, '0')})\n};\n\n/**\n * A generic OS.js GUI container\n * @param {Object} props Properties\n * @param {h[]} children Children\n */\nexport const Element = (props, children = []) => {\n  const givenClassNames = props.class instanceof Array\n    ? props.class\n    : [props.class];\n\n  const classNames = [\n    'osjs-gui',\n    ...givenClassNames\n  ];\n\n  if (props.orientation) {\n    classNames.push('osjs-gui-' + props.orientation);\n  }\n\n  const defaultStyle = typeof props.style === 'string'\n    ? {}\n    : Object.assign({}, props.style || {});\n\n  const style = Object.keys(props).reduce((result, prop) => {\n    const value = boxPropNames[prop]\n      ? boxPropNames[prop](props[prop])\n      : undefined;\n\n    return Object.assign({}, result, value);\n  }, defaultStyle);\n\n  return h('div', {\n    oncreate: props.oncreate,\n    ondestroy: props.ondestroy,\n    class: classNames.filter(s => !!s).join(' '),\n    style\n  }, children);\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\n\n/**\n * A flexbox\n * @param {BoxProperties} props Properties\n * @param {string} [props.orientation='horizontal'] Box orientation\n * @param {h[]} children Children\n */\nexport const Box = (props, children) =>\n  h(Element, Object.assign({\n    orientation: 'horizontal'\n  }, props, {\n    class: ['osjs-gui-box', props.class],\n  }), children);\n","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\n\n/**\n * A styled flexbox container\n * @param {BoxProperties} props Properties\n * @param {h[]} children Children\n */\nexport const BoxStyled = (props, children) =>\n  h(Element, Object.assign({}, props, {\n    class: ['osjs-gui-box-styled', props.class]\n  }), children);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\n\n/**\n * An icon\n * @param {Object} props Properties\n * @param {string} props.src Icon src\n * @param {string} [props.name] Icon name\n * @param {h[]} children Children\n */\nexport const Icon = (props, children) => {\n  const i = props && typeof props === 'object'\n    ? props.src\n    : props;\n\n  const n = props && typeof props === 'object'\n    ? props.name\n    : undefined;\n\n  return h('i', {\n    'data-icon': n,\n    class: 'osjs-icon',\n    style: {\n      backgroundImage: typeof props === 'string' ? `url(${i})` : undefined\n    }\n  });\n};\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\n/**\n * Filter an object based on keys\n * @param {Object} props Props\n * @param {String[]} filterKeys List of keys to filter\n * @return {Object}\n */\nexport const filteredProps = (props, filterKeys) => {\n  const keys = Object.keys(props);\n  const filter = k => filterKeys.indexOf(k) === -1;\n\n  return keys\n    .filter(filter)\n    .reduce((result, k) => Object.assign({\n      [k]: props[k]\n    }, result), {});\n};\n\n/**\n * Creates a double-tap event handler\n * @param {number} [timeout=250] Timeout\n * @return {Function} Handler with => (ev, cb)\n */\nexport const doubleTap = (timeout = 250) => {\n  let tapped = false;\n  let timer;\n\n  return (ev, cb) => {\n    timer = clearTimeout(timer);\n    timer = setTimeout(() => (tapped = false), timeout);\n\n    if (tapped) {\n      ev.preventDefault();\n      return cb(ev);\n    }\n\n    tapped = true;\n\n    return false;\n  };\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\nimport {h} from 'hyperapp';\nimport {filteredProps} from './utils';\nimport {Element} from './components/Element';\n\n/**\n * Creates a new field Element wrapper\n * @param {String} name Field name\n * @param {Object} props Field props\n * @param {Function} cb Callback to create inner element => (props)\n * @param {Function} cb Callback to get value => (event)\n */\nexport const createField = (name, props, defaultProps, cb, cbInput) => {\n  const oninput = props.oninput || function() {};\n  const onchange = props.onchange || function() {};\n  const onkeydown = props.onkeydown || function() {};\n\n  const getValue = cbInput || (ev => [ev.target.value]);\n  const fieldProps = Object.assign(\n    {\n      oninput: ev => oninput(ev, ...getValue(ev)),\n      onchange: ev => onchange(ev, ...getValue(ev)),\n      onkeydown: ev => {\n        if (ev.keyCode === 13 && props.onenter) {\n          props.onenter(ev, ...getValue(ev));\n        }\n        onkeydown(ev);\n      }\n    },\n    defaultProps,\n    filteredProps(props, ['choices', 'label', 'box', 'oninput', 'onchange'])\n  );\n\n  return h(Element, Object.assign({}, props.box || {}, {\n    class: 'osjs-gui-field osjs-gui-' + name\n  }), cb(fieldProps));\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Icon} from './Icon';\nimport {createField} from '../element';\n\n/**\n * A button\n * @param {Object} props Properties\n * @param {string} [props.icon] Icon source\n * @param {string} [props.label] Use this as label instead of children\n * @param {BoxProperties} [props.box] Box Properties\n * @param {h[]} children Children\n */\nexport const Button = (props = {}, children = []) =>\n  createField('button', props, {\n  }, (fieldProps) => {\n    const inner = [];\n    if (props.icon) {\n      inner.push(h(Icon, props.icon));\n    }\n\n    if (typeof props.label === 'string') {\n      inner.push(h('span', {class: 'osjs-label'}, props.label));\n    }\n\n    return h('button', fieldProps, [\n      ...inner,\n      ...children\n    ]);\n  });\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Icon} from './Icon';\n\nconst ul = (props, children = [], level = 0) => {\n\n  const label = child => {\n    const children = [];\n\n    if (child.type === 'checkbox' || typeof child.checked === 'boolean') {\n      children.push(h('span', {\n        class: 'osjs-gui-menu-checkbox ' + (child.checked ? 'active' : '')\n      }));\n    } else if (child.icon) {\n      children.push(h(Icon, child.icon));\n    }\n\n    children.push(h('span', {}, child.label));\n\n    return children;\n  };\n\n  const inner = (props, child) => {\n    if (typeof child.element === 'function') {\n      return child.element();\n    }\n\n    const className = child.type === 'separator'\n      ? 'osjs-gui-menu-separator'\n      : 'osjs-gui-menu-label ' + (child.disabled ? 'osjs__disabled' : '');\n\n    const children = [\n      h('span', {class: className}, label(child))\n    ];\n\n    if (child.items) {\n      children.push(ul(props, child.items, level + 1));\n    }\n\n    return children;\n  };\n\n  return h('ul', {\n    class: ''\n  }, children.map(\n    child => h('li', {\n      class: 'osjs-gui-menu-entry'\n    }, [\n      h('div', {\n        class: 'osjs-gui-menu-container',\n        'data-has-image': child.icon ? true : undefined,\n        'data-has-children': child.items ? true : undefined,\n        onmouseover: child.items ? props.onshow : undefined,\n        ontouchend: child.items ? props.onshow : undefined,\n        onclick: (ev) => {\n          if (child.items) {\n            return;\n          }\n\n          if (child.onclick) {\n            child.onclick(child, ev);\n          }\n\n          if (props.onclick) {\n            props.onclick(child, ev, child);\n          }\n        }\n      }, inner(props, child))\n    ])\n  ));\n};\n\n/**\n * Menu tree\n * @property {String} label Label\n * @property {String} [icon] Icon source\n * @property {Boolean} [disabled] Disabled state\n * @property {Boolean} [closeable] Disable close on click\n * @property {Function} [element] A callback that returns a virtual DOM element (ex. Hyperapp)\n * @property {Function} onclick Click callback\n * @property {MenuItems} [items] Child items\n * @typedef MenuItems\n */\n\n/**\n * A menu\n * @param {Object} props Properties\n * @param {Boolean} [props.visible=true] Visible property\n * @param {Object} [posprops.ition] Position\n * @param {MenuItems} [props.menu] Menu items\n */\nexport const Menu = (props) => h('div', {\n  id: 'osjs-context-menu',\n  className: 'osjs-gui osjs-gui-menu',\n  oncreate: props.oncreate,\n  onupdate: props.onupdate,\n  style: {\n    display: props.visible !== false ? 'block' : 'none',\n    top: props.position ? String(props.position.top) + 'px' : 0,\n    left: props.position ? String(props.position.left) + 'px' : 0\n  }\n}, ul(props, props.menu));\n","import {h, app} from 'hyperapp'\n\nexport default \nfunction nestable (state, actions, view, tagname) {\n    actions._$r = function () {return {}}\n    return function (props, children) {\n        return h(tagname || 'x-', {\n            key: props.key,\n            id: props.id,\n            class: props.class,\n            oncreate: function (el) {\n                var wired = app(\n                    state,\n                    actions,\n                    function (s, a) {\n                        var v = view(s, a)\n                        if (typeof v === 'function') v = v(el._$p, el._$c)\n                        return v\n                    },\n                    el\n                )\n                el._$p = props\n                el._$c = children\n                el._$r = wired._$r\n                el._$u = wired.uninit\n                wired.init && wired.init(props)\n                props.oncreate && props.oncreate(el)\n            },\n            onupdate: function (el) {\n                el._$p = props\n                el._$c = children\n                el._$r()\n                props.onupdate && props.onupdate(el)\n            },\n            ondestroy: function (el) {\n                el._$u && el._$u()\n            },\n            onremove: function (el, done) {\n               if (!props.onremove) return done()\n\n               props.onremove(el, done)\n            }\n        })\n    }    \n}\n\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport nestable from 'hyperapp-nestable';\nimport {Element} from './Element';\n\nconst onmousedown = (ev, actions, orientation) => {\n  const {target, clientX, clientY} = ev;\n  const pane = target.previousSibling;\n  const {offsetWidth, offsetHeight} = pane;\n  const index = Array.from(target.parentNode.children).indexOf(pane);\n  const maxWidth = pane.parentNode.offsetWidth * 0.8;\n  const maxHeight = pane.parentNode.offsetHeight * 0.8;\n\n  if (index < 0) {\n    return;\n  }\n\n  const mousemove = ev => {\n    ev.preventDefault();\n\n    let size = orientation === 'vertical' ? offsetWidth : offsetHeight;\n\n    if (orientation === 'vertical') {\n      const diffX = ev.clientX - clientX;\n      size = Math.min(maxWidth, size + diffX);\n    } else {\n      const diffY = ev.clientY - clientY;\n      size = Math.min(maxHeight, size + diffY);\n    }\n\n    actions.setSize({index, size});\n  };\n\n  const mouseup = ev => {\n    ev.preventDefault();\n    document.removeEventListener('mousemove', mousemove);\n    document.removeEventListener('mouseup', mouseup);\n  };\n\n  ev.preventDefault();\n  document.addEventListener('mousemove', mousemove);\n  document.addEventListener('mouseup', mouseup);\n};\n\nconst panes = (state, actions, children, orientation) => {\n  const spacers = Array(Math.ceil(children.length / 2))\n    .fill(null)\n    .map(() => h('div', {\n      class: 'osjs-gui-panes-spacer',\n      onmousedown: ev => onmousedown(ev, actions, orientation)\n    }));\n\n  const child = (c, i) => {\n    const w = state.sizes[i] ? String(state.sizes[i]) + 'px' : undefined;\n\n    return h('div', {\n      class: 'osjs-gui-panes-pane',\n      style: {\n        flex: w ? `0 0 ${w}` : w\n      }\n    }, c);\n  };\n\n  return children\n    .map(child)\n    .map((v, i) => [v, spacers[i]])\n    .reduce((a, b) => a.concat(b))\n    .filter(v => typeof v !== 'undefined');\n};\n\nconst view = (state, actions) => (props, children) => {\n  const orientation = props.orientation || 'vertical';\n\n  return h(Element, {\n    orientation,\n    class: 'osjs-gui-panes-inner'\n  }, panes(state, actions, children, orientation));\n};\n\nconst inner = nestable({\n  sizes: []\n}, {\n  init: props => ({sizes: props.sizes || [150]}),\n  setSize: ({index, size}) => state => {\n    const sizes = [].concat(state.sizes);\n    sizes[index] = size;\n    return {sizes};\n  }\n}, view, 'div');\n\n/**\n * Resizable panes\n * @param {Object} props Properties\n * @param {string} [props.orientation='vertical'] Pane orientation\n * @param {number[]} [props.sizes] Pane sizes\n * @param {h[]} children Children\n */\nexport const Panes = (props, children) => h(inner, {\n  class: 'osjs-gui-panes'\n}, children);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport nestable from 'hyperapp-nestable';\n\nconst headers = ({labels, onchange, oncontextmenu}, state, actions) => (labels || [])\n  .map((label, index) => h('div', {\n    class: state.selectedIndex === index ? 'osjs__active' : '',\n    oncontextmenu: ev => {\n      (oncontextmenu || function() {})(ev, index, label);\n    },\n    onclick: ev => {\n      actions.setSelectedIndex(index);\n      (onchange || function() {})(ev, index, label);\n    }\n  }, h('span', {}, label)));\n\nconst panes = (state, children) => children\n  .map((child, index) => h('div', {\n    class: state.selectedIndex === index ? 'osjs__active' : ''\n  }, child));\n\nconst view = nestable({\n  selectedIndex: 0\n}, {\n  init: props => ({\n    selectedIndex: props.selectedIndex || 0\n  }),\n  setSelectedIndex: selectedIndex => state => ({selectedIndex})\n}, (state, actions) => (props, children) => h('div', {\n  class: 'osjs-gui-tabs-wrapper'\n}, [\n  h('div', {class: 'osjs-gui-tabs-header'}, headers(props, state, actions)),\n  h('div', {class: 'osjs-gui-tabs-panes'}, panes(state, children))\n]), 'div');\n\n/**\n * A tab container\n * @param {Object} props Properties\n * @param {String[]} props.labels Labels\n * @param {h[]} children Tabs\n */\nexport const Tabs = (props, children) => h(view, Object.assign({\n  class: 'osjs-gui osjs-gui-tabs ' + (props.class || '')\n}, props), children);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {filteredProps, doubleTap} from '../utils';\nimport {Element} from './Element';\nimport {Icon} from './Icon';\n\nconst tapper = doubleTap();\n\nconst createView = props => {\n  let debounceScroll;\n\n  const cols = (paneIndex) => (row, rowIndex) => {\n    const col = row.columns[paneIndex] || {};\n    const selected = props.selectedIndex === rowIndex;\n    const colIcon = col.icon ? h(Icon, col.icon) : null;\n    const children = [h('span', {}, [typeof col === 'object' ? col.label : col])];\n\n    if (colIcon) {\n      children.unshift(colIcon);\n    }\n\n    return h('div', {\n      key: row.key,\n      'data-has-icon': col.icon ? true : undefined,\n      class: 'osjs-gui-list-view-cell' + (selected ? ' osjs__active' : ''),\n      ontouchstart: (ev) => tapper(ev, () => props.onactivate({data: row.data, index: rowIndex, ev})),\n      ondblclick: (ev) => props.onactivate({data: row.data, index: rowIndex, ev}),\n      onclick: (ev) => props.onselect({data: row.data, index: rowIndex, ev}),\n      oncontextmenu: (ev) => props.oncontextmenu({data: row.data, index: rowIndex, ev}),\n      oncreate: (el) => props.oncreate({data: row.data, index: rowIndex, el})\n    }, children);\n  };\n\n  const pane = (index, col) => h('div', {\n    class: 'osjs-gui-list-view-pane',\n    style: col.style || {}\n  }, [\n    h('div', {\n      class: 'osjs-gui-list-view-header',\n      style: {\n        display: props.hideColumns ? 'none' : undefined\n      }\n    }, h('span', {}, typeof col === 'object' ? col.label : col)),\n    h('div', {\n      class: 'rows',\n      'data-zebra': String(props.zebra)\n    }, props.rows.map(cols(index)))\n  ]);\n\n  return h('div', {\n    class: 'osjs-gui-list-view-wrapper',\n    onscroll: ev => {\n      debounceScroll = clearTimeout(debounceScroll);\n      debounceScroll = setTimeout(() => {\n        props.onscroll(ev);\n      }, 100);\n    },\n    oncreate: el => (el.scrollTop = props.scrollTop),\n    onupdate: el => {\n      if (props.selectedIndex < 0) {\n        el.scrollTop = props.scrollTop;\n      }\n    }\n  }, props.columns.map((c, i) => pane(i, c)));\n};\n\nexport const ListView = props => h(Element, Object.assign({\n  class: 'osjs-gui-list-view'\n}, props.box || {}), createView(filteredProps(props, ['box'])));\n\nexport const listView = ({\n  component: (state, actions) => {\n    const newProps = Object.assign({\n      zebra: true,\n      columns: [],\n      rows: [],\n      onselect: ({data, index, ev}) => {\n        actions.select({data, index, ev});\n        actions.setSelectedIndex(index);\n      },\n      onactivate: ({data, index, ev}) => {\n        actions.activate({data, index, ev});\n        actions.setSelectedIndex(-1);\n      },\n      oncontextmenu: ({data, index, ev}) => {\n        actions.select({data, index, ev});\n        actions.contextmenu({data, index, ev});\n        actions.setSelectedIndex(index);\n      },\n      oncreate: (args) => {\n        actions.created(args);\n      },\n      onscroll: (ev) => {\n        actions.scroll(ev);\n      }\n    }, state);\n\n    return (props = {}) => ListView(Object.assign(newProps, props));\n  },\n\n  state: state => Object.assign({\n    selectedIndex: -1,\n    scrollTop: 0\n  }, state),\n\n  actions: actions => Object.assign({\n    select: () => () => ({}),\n    activate: () => () => ({}),\n    contextmenu: () => () => ({}),\n    created: () => () => ({}),\n    scroll: () => state => state,\n    setRows: rows => ({rows}),\n    setColumns: columns => ({columns}),\n    setScrollTop: scrollTop => state => ({scrollTop}),\n    setSelectedIndex: selectedIndex => state => ({selectedIndex})\n  }, actions || {})\n});\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {doubleTap} from '../utils';\nimport {Element} from './Element';\nimport {Icon} from './Icon';\n\nconst tapper = doubleTap();\n\nexport const IconViewEntry = (entry, index, props) => () => {\n  const icon = entry.icon || {name: 'application-x-executable'};\n  const selected = props.selectedIndex === index;\n\n  return h('div', {\n    class: 'osjs-gui-icon-view-entry' + (selected ? ' osjs__active' : ''),\n    ontouchstart: (ev) => tapper(ev, () => props.onactivate({data: entry.data, index, ev})),\n    ondblclick: (ev) => props.onactivate({data: entry.data, index, ev}),\n    onclick: (ev) => props.onselect({data: entry.data, index, ev}),\n    oncontextmenu: (ev) => props.oncontextmenu({data: entry.data, index, ev}),\n    oncreate: (el) => props.oncreate({data: entry.data, index, el})\n  }, [\n    h('div', {class: 'osjs__container'}, [\n      h('div', {class: 'osjs__image'}, [\n        h(Icon, icon)\n      ]),\n      h('div', {class: 'osjs__label'}, [\n        h('span', {}, entry.label)\n      ])\n    ])\n  ]);\n};\n\nexport const IconView = (props) => {\n  const inner = h('div', {\n    class: 'osjs-gui-icon-view-wrapper',\n    oncreate: el => (el.scrollTop = props.scrollTop),\n    onupdate: el => {\n      if (props.selectedIndex < 0) {\n        el.scrollTop = props.scrollTop;\n      }\n    }\n  }, props.entries.map((entry, index) => {\n    return h(IconViewEntry(entry, index, props));\n  }));\n\n  return h(Element, Object.assign({\n    class: 'osjs-gui-icon-view'\n  }, props.box || {}), inner);\n};\n\nexport const iconView = ({\n  component: (state, actions) => {\n    const newProps = Object.assign({\n      entries: [],\n      onselect: ({data, index, ev}) => {\n        actions.select({data, index, ev});\n        actions.setSelectedIndex(index);\n      },\n      onactivate: ({data, index, ev}) => {\n        actions.activate({data, index, ev});\n        actions.setSelectedIndex(-1);\n      },\n      oncontextmenu: ({data, index, ev}) => {\n        actions.select({data, index, ev});\n        actions.contextmenu({data, index, ev});\n        actions.setSelectedIndex(index);\n      },\n      oncreate: (args) => {\n        actions.created(args);\n      }\n    }, state);\n\n    return (props = {}) => IconView(Object.assign(newProps, props));\n  },\n\n  state: state => Object.assign({\n    selectedIndex: -1,\n    scrollTop: 0\n  }, state),\n\n  actions: actions => Object.assign({\n    select: () => () => ({}),\n    activate: () => () => ({}),\n    contextmenu: () => () => ({}),\n    created: () => () => ({}),\n    setEntries: entries => () => ({entries}),\n    setScrollTop: scrollTop => state => ({scrollTop}),\n    setSelectedIndex: selectedIndex => state => ({selectedIndex}),\n  }, actions || {})\n});\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\nimport nestable from 'hyperapp-nestable';\n\nconst view = (state, actions) => (props, children) => {\n  return h(Element, Object.assign({}, props.box || {}, {\n    class: ['osjs-gui-expander-wrapper']\n  }), [\n    h('div', {\n      class: 'osjs-gui-expander-header',\n      onclick: ev => actions.ontoggle({\n        ev,\n        active: !state.active,\n        ontoggle: props.ontoggle\n      })\n    }, [\n      h('div', {\n        class: 'osjs-gui-expander-header-icon',\n        'data-active': String(state.active)\n      }),\n      h('div', {\n        class: 'osjs-gui-expander-header-label'\n      }, props.label)\n    ]),\n    h('div', {\n      class: 'osjs-gui-expander-content',\n      style: {\n        display: state.active === false ? 'none' : undefined\n      }\n    }, children)\n  ]);\n};\n\nconst inner = nestable({\n  active: true\n}, {\n  init: props => ({\n    ative: props.active !== false\n  }),\n  ontoggle: ({ev, active, ontoggle}) => {\n    const cb = ontoggle || function() {};\n    cb(ev, active);\n    return {active};\n  }\n}, view, 'div');\n\n/**\n * A status bar\n * @param {Object} props Properties\n * @param {boolean} [props.active] Active state\n * @param {Function} [props.ontoggle] Toggle callback => (ev, active)\n * @param {BoxProperties} [props.box] Box Properties\n * @param {h[]} children Children\n */\nexport const Expander = (props, children) =>\n  h(inner, Object.assign({}, props, {\n    class: 'osjs-gui osjs-gui-expander'\n  }), children);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\n\n/**\n * A label element\n * @param {Object} props Properties\n * @param {string} [props.text] Label Text\n * @param {string} [props.placement] Placement\n * @param {string} [props.for] The \"for\" attribute\n * @param {BoxProperties} [props.box] Box Properties\n * @param {h[]} children Children\n */\nexport const Label = (props = {}, children = []) => {\n  const placement = props.placement || 'top';\n  const text = props.text || '';\n\n  const elementProps = Object.assign({\n    class: ['osjs-gui-field-label', 'osjs-gui-field-label-on-' + placement]\n  }, props.box || {});\n\n  return h(Element, elementProps, [\n    h('label', {for: props.for}, text),\n    children\n  ]);\n};\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h, app} from 'hyperapp';\nimport {Menu} from './components/Menu';\n\n/*\n * Makes sure sub-menus stays within viewport\n */\nconst clampSubMenu = (root, ev) => {\n  let ul = ev.target.querySelector('ul');\n  if (!ul) {\n    return;\n  }\n\n  // FIXME: Safari reports wrong item\n  if (ul.classList.contains('osjs-gui-menu-container')) {\n    ul = ul.parentNode.parentNode;\n  }\n\n  if (!ul || !ul.offsetParent) {\n    return;\n  }\n\n  ul.classList.remove('clamp-right');\n\n  const rect = ul.getBoundingClientRect();\n  if (rect.right > root.offsetWidth) {\n    ul.classList.add('clamp-right');\n  }\n};\n\n/*\n * Makes sure menu stays within viewport\n */\nconst clampMenu = (root, el, currentPosition) => {\n  const result = {};\n  const bottom = currentPosition.top + el.offsetHeight;\n  const right = currentPosition.left + el.offsetWidth;\n  const offY = root.offsetHeight - currentPosition.top;\n  const offX = root.offsetWidth - currentPosition.left;\n  const overflowRight = right > root.offsetWidth;\n  const overflowBottom = bottom > root.offsetHeight;\n\n  if (overflowBottom) {\n    if (root.offsetHeight > el.offsetHeight) {\n      result.top = root.offsetHeight - el.offsetHeight - offY;\n    }\n  }\n\n  if (overflowRight) {\n    result.left = root.offsetWidth - el.offsetWidth - offX;\n  }\n\n  return (overflowBottom || overflowRight) ? result : null;\n};\n\n/*\n * Context Menu view\n */\nconst view = callback => (props, actions) => h(Menu, {\n  position: props.position,\n  visible: props.visible,\n  menu: props.menu,\n  onclick: callback,\n  onshow: actions.onshow\n});\n\nconst timeout = fn => {\n  fn();\n  return setTimeout(fn, 100);\n};\n\n/**\n * ContextMenu Class\n *\n * @desc Handles a Menu/ContextMenu globally for OS.js\n */\nexport class ContextMenu {\n\n  constructor(core) {\n    this.core = core;\n    this.callback = () => {};\n    this.actions = null;\n    this.$element = document.createElement('div');\n  }\n\n  destroy() {\n    this.callback = null;\n    this.actions = null;\n  }\n\n  /**\n   * Initializes the Menu Hyperapp\n   */\n  init() {\n    let clampTimeout;\n\n    this.$element.className = 'osjs-system-context-menu';\n    this.core.$root.appendChild(this.$element);\n\n    let isActive = false;\n\n    this.actions = app({\n      visible: false,\n      menu: [],\n      position: {\n        top: 0,\n        left: 0\n      }\n    }, {\n      clamp: (el) => props => {\n        el = el || document.querySelector('#osjs-context-menu');\n        clearTimeout(clampTimeout);\n\n        if (el) {\n          const root = this.core.$root;\n          const newPosition = clampMenu(root, el, props.position);\n          if (newPosition) {\n            return {position: newPosition};\n          }\n        }\n\n        return {};\n      },\n      onshow: (ev) => props => {\n        clampTimeout = timeout(() => clampSubMenu(this.core.$root, ev));\n      },\n      show: (options) => (props, actions) => {\n        let {menu, position, toggle} = options;\n        if (toggle && isActive) {\n          return actions.hide();\n        } else if (position instanceof Event) {\n          position = {left: position.clientX, top: position.clientY};\n        } else if (position instanceof Element) {\n          const box = position.getBoundingClientRect();\n          position = {\n            left: box.left,\n            top: box.top + box.height\n          };\n        }\n\n        this.callback = (child, ev, iter) => {\n          if (options.callback) {\n            options.callback(child, ev);\n          }\n\n          if (iter.closeable !== false) {\n            actions.hide();\n          }\n        };\n\n        isActive = true;\n        this.onclose = options.onclose;\n\n        timeout(() => actions.clamp());\n\n        return {\n          visible: true,\n          menu: menu || [],\n          position: position || {top: 0, left: 0}\n        };\n      },\n      hide: () => props => {\n        if (isActive) {\n          setTimeout(() => (isActive = false), 0);\n        }\n        if (this.onclose) {\n          this.onclose();\n        }\n        this.onclose = null;\n        this.callback = null;\n\n        return {visible: false};\n      }\n    }, view((...args) => {\n      if (!this.core.destroyed) {\n        if (this.callback) {\n          this.callback(...args);\n        }\n      }\n    }), this.$element);\n  }\n\n  /**\n   * Show the menu\n   */\n  show(...args) {\n    return this.actions ? this.actions.show(...args) : null;\n  }\n\n  /**\n   * Hide the menu\n   */\n  hide(...args) {\n    return this.actions ? this.actions.hide(...args) : null;\n  }\n}\n","module.exports = require(\"regenerator-runtime\");\n","import { name as applicationName } from \"./metadata.json\";\r\nimport { h, app } from \"hyperapp\";\r\nimport { Box, Button } from \"@osjs/gui\";\r\nimport \"./index.scss\";\r\n\r\nconst register = (core, args, options, metadata) => {\r\n  const proc = core.make(\"osjs/application\", { args, options, metadata });\r\n\r\n  // Use HoshinoServiceProvider API\r\n  const hoshino = core.make(\"webos/service\");\r\n  const available = Object.keys(core.serviceClasses || {});\r\n  const getServices = () => {\r\n    const running = core.listProviders();\r\n    const enabled = hoshino.getEnabledServices();\r\n    return available.map((name) => ({\r\n      name,\r\n      running: running.includes(name),\r\n      enabled: enabled.includes(name),\r\n    }));\r\n  };\r\n\r\n  const toggleService = (name, action) => {\r\n    if (action === \"start\") {\r\n      return hoshino.startService(name, core.serviceDefinitions);\r\n    } else if (action === \"stop\") {\r\n      return hoshino.stopService(name);\r\n    }\r\n  };\r\n\r\n  const toggleEnable = (name, enable) => {\r\n    if (enable) {\r\n      hoshino.enableService(name);\r\n    } else {\r\n      hoshino.disableService(name);\r\n    }\r\n  };\r\n\r\n  proc\r\n    .createWindow({\r\n      id: \"SystemControlWindow\",\r\n      title: metadata.title.en_EN,\r\n      icon: proc.resource(metadata.icon),\r\n      dimension: { width: 500, height: 400 },\r\n    })\r\n    .on(\"destroy\", () => proc.destroy())\r\n    .render(($content) => {\r\n      const actions = {\r\n        setTab: (tab) => ({ tab }),\r\n        refresh: () => (state) => ({ services: getServices() }),\r\n        toggleRun:\r\n          ({ name, running }) =>\r\n          (state, actions) => {\r\n            toggleService(name, running ? \"stop\" : \"start\")\r\n              .then(() => actions.refresh())\r\n              .catch((err) => console.error(err));\r\n          },\r\n        toggleBoot:\r\n          ({ name, enabled }) =>\r\n          (state, actions) => {\r\n            toggleEnable(name, !enabled);\r\n            actions.refresh();\r\n          },\r\n      };\r\n\r\n      const ListView = (state, actions) =>\r\n        h(\r\n          \"div\",\r\n          { class: \"service-list\" },\r\n          state.services.map((service) =>\r\n            h(\"div\", { class: \"service-item\" }, [\r\n              h(\"div\", { class: \"info\" }, [\r\n                h(\"span\", { class: \"name\" }, service.name),\r\n                h(\r\n                  \"span\",\r\n                  {\r\n                    class: `status ${service.running ? \"running\" : \"stopped\"}`,\r\n                  },\r\n                  service.running ? \"Running\" : \"Stopped\"\r\n                ),\r\n              ]),\r\n              h(\"div\", { class: \"controls\" }, [\r\n                h(Button, {\r\n                  onclick: () => actions.toggleRun(service),\r\n                  label: service.running ? \"Stop\" : \"Start\",\r\n                }),\r\n                h(Button, {\r\n                  onclick: () => actions.toggleBoot(service),\r\n                  label: service.enabled ? \"Disable Boot\" : \"Enable Boot\",\r\n                  disabled: service.name === \"CoreServiceProvider\", // Prevent disabling core\r\n                }),\r\n              ]),\r\n            ])\r\n          )\r\n        );\r\n\r\n      const GraphView = (state) => {\r\n        // Dynamic dependency visualization\r\n        const definitions = core.serviceDefinitions || {};\r\n        const services = state.services;\r\n\r\n        // Helper to get dependencies for a service name\r\n        const getDeps = (name) => {\r\n          const def = definitions[name];\r\n          return def && def.options && def.options.depends\r\n            ? def.options.depends\r\n            : [];\r\n        };\r\n\r\n        // Build levels\r\n        const levels = [];\r\n        const visited = new Set();\r\n        let remaining = services.map((s) => s.name);\r\n\r\n        // Level 0: No dependencies (or only core if we treat core as implicit base)\r\n        // Actually, let's just do a simple topological sort into levels\r\n\r\n        let iteration = 0;\r\n        while (remaining.length > 0 && iteration < 10) {\r\n          // Safety break\r\n          const currentLevel = [];\r\n          const nextRemaining = [];\r\n\r\n          remaining.forEach((name) => {\r\n            const deps = getDeps(name);\r\n            // Check if all dependencies are either satisfied (in previous levels) or non-existent (external/implicit)\r\n            // Note: 'osjs/core' is provided by CoreServiceProvider.\r\n            // We need to map contract names (osjs/core) to provider names (CoreServiceProvider)\r\n            // But for now, let's assume if it has NO dependencies, it's level 0.\r\n            // If it has dependencies, check if they are \"resolved\".\r\n\r\n            // Simplified logic:\r\n            // If deps is empty -> Level 0\r\n            // If deps are all in visited -> Current Level\r\n\r\n            // Problem: 'osjs/core' is a contract, not a provider name.\r\n            // We need to know which provider provides which contract.\r\n            // But we don't have that map easily available here without instantiating.\r\n            // However, we can cheat: CoreServiceProvider is always root.\r\n\r\n            if (name === \"CoreServiceProvider\" && !visited.has(name)) {\r\n              currentLevel.push(name);\r\n              return;\r\n            }\r\n\r\n            // If we have visited all \"providers\" that this service depends on...\r\n            // But we only know contract dependencies (e.g. 'osjs/auth').\r\n            // Let's just use a simple heuristic:\r\n            // 0 deps -> Level 0\r\n            // >0 deps -> Level = Max(Dep Levels) + 1\r\n\r\n            // Since we can't easily resolve 'osjs/auth' -> 'AuthServiceProvider' dynamically without more data,\r\n            // We will use the hardcoded knowledge that Core is root, and everything else flows from there.\r\n\r\n            // Fallback: Just put everything else in Level 1 if we can't resolve.\r\n            // Better approach:\r\n            // CoreServiceProvider -> Level 0\r\n            // Services depending ONLY on osjs/core -> Level 1\r\n            // Services depending on osjs/core AND others -> Level 2+\r\n\r\n            const isRoot = name === \"CoreServiceProvider\";\r\n            if (isRoot) {\r\n              currentLevel.push(name);\r\n            } else {\r\n              const deps = getDeps(name);\r\n              if (deps.length === 0) {\r\n                currentLevel.push(name);\r\n              } else if (deps.every((d) => d === \"osjs/core\")) {\r\n                // Only depends on core\r\n                if (visited.has(\"CoreServiceProvider\")) {\r\n                  currentLevel.push(name);\r\n                } else {\r\n                  nextRemaining.push(name);\r\n                }\r\n              } else {\r\n                // Depends on other things.\r\n                // We need to check if \"enough\" things are visited.\r\n                // Since we can't map contracts to providers easily here,\r\n                // let's just push them to later levels.\r\n                if (visited.size > 1) {\r\n                  // If we have visited Core + Level 1 services\r\n                  currentLevel.push(name);\r\n                } else {\r\n                  nextRemaining.push(name);\r\n                }\r\n              }\r\n            }\r\n          });\r\n\r\n          if (currentLevel.length === 0 && nextRemaining.length > 0) {\r\n            // Force remaining into a final level to prevent infinite loop\r\n            levels.push(nextRemaining);\r\n            break;\r\n          }\r\n\r\n          if (currentLevel.length > 0) {\r\n            levels.push(currentLevel);\r\n            currentLevel.forEach((n) => visited.add(n));\r\n            remaining = nextRemaining;\r\n          }\r\n          iteration++;\r\n        }\r\n\r\n        return h(\r\n          \"div\",\r\n          { class: \"graph-view\" },\r\n          levels.map((levelServices, i) =>\r\n            h(\r\n              \"div\",\r\n              { class: \"level\" },\r\n              levelServices.map((name) => {\r\n                const service = state.services.find((s) => s.name === name) || {\r\n                  name,\r\n                  running: false,\r\n                };\r\n                const deps = getDeps(name);\r\n\r\n                return h(\r\n                  \"div\",\r\n                  {\r\n                    class: `node ${service.running ? \"running\" : \"stopped\"}`,\r\n                    title: `Depends on: ${deps.join(\", \") || \"None\"}`,\r\n                  },\r\n                  [\r\n                    h(\"span\", { class: \"name\" }, service.name),\r\n                    h(\r\n                      \"span\",\r\n                      { class: \"status\" },\r\n                      service.running ? \"Running\" : \"Stopped\"\r\n                    ),\r\n                  ]\r\n                );\r\n              })\r\n            )\r\n          )\r\n        );\r\n      };\r\n\r\n      const view = (state, actions) =>\r\n        h(Box, { class: \"osjs-system-control-window\" }, [\r\n          h(\"div\", { class: \"toolbar\" }, [\r\n            h(Button, {\r\n              onclick: () => actions.setTab(\"list\"),\r\n              label: \"Service List\",\r\n              disabled: state.tab === \"list\",\r\n            }),\r\n            h(Button, {\r\n              onclick: () => actions.setTab(\"graph\"),\r\n              label: \"Dependency Graph\",\r\n              disabled: state.tab === \"graph\",\r\n            }),\r\n          ]),\r\n          state.tab === \"list\" ? ListView(state, actions) : GraphView(state),\r\n        ]);\r\n\r\n      app(\r\n        {\r\n          tab: \"list\",\r\n          services: getServices(),\r\n        },\r\n        actions,\r\n        view,\r\n        $content\r\n      );\r\n    });\r\n\r\n  return proc;\r\n};\r\n\r\nOSjs.make(\"osjs/packages\").register(applicationName, register);\r\n"],"names":["e","Symbol","Object","destroy","h","name","attributes","rest","children","length","arguments","node","module","arr","len","i","arr2","Array","exports","isArray","arrayLikeToArray","iter","iterator","from","o","minLen","n","prototype","toString","call","slice","constructor","test","TypeError","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","push","pop","nodeName","key","app","state","actions","view","container","resolveNode","globalState","wiredActions","render","skipRender","rootElement","patch","parent","element","oldNode","isSvg","newElement","createElement","document","createTextNode","createElementNS","oncreate","lifecycle","appendChild","updateAttribute","insertBefore","removeElement","nodeValue","updateElement","oldAttributes","clone","cb","isRecycling","onupdate","oldKeyed","newKeyed","oldElements","oldChildren","childNodes","oldKey","getKey","k","newKey","keyedNode","scheduleRender","setTimeout","target","source","out","getPartialState","path","eventListener","event","currentTarget","events","type","value","oldValue","addEventListener","removeEventListener","setAttribute","removeAttribute","style","cssText","setProperty","done","removeChild","removeChildren","ondestroy","onremove","map","recycleElement","toLowerCase","nodeType","wireStateToActions","action","data","result","then","setPartialState","concat","unitValue","unset","boxPropNames","flexGrow","flexShrink","flexBasis","alignItems","justifyContent","margin","Element","props","classNames","orientation","defaultStyle","assign","keys","reduce","prop","filter","s","join","Box","_typeof","obj","Icon","src","backgroundImage","defineProperty","enumerable","configurable","writable","doubleTap","timer","timeout","tapped","ev","clearTimeout","preventDefault","createField","defaultProps","cbInput","filterKeys","oninput","onchange","onkeydown","getValue","fieldProps","keyCode","onenter","indexOf","box","Button","inner","icon","label","ul","level","child","checked","disabled","items","onmouseover","onshow","ontouchend","onclick","Menu","id","className","display","visible","top","position","String","left","menu","nestable","tagname","_$r","class","el","wired","a","v","_$p","_$c","_$u","uninit","init","onmousedown","Math","min","clientX","clientY","pane","previousSibling","offsetWidth","offsetHeight","index","parentNode","maxWidth","maxHeight","mousemove","size","setSize","mouseup","panes","spacers","ceil","fill","c","w","sizes","flex","b","headers","labels","oncontextmenu","selectedIndex","setSelectedIndex","active","ative","ontoggle","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","Promise","fn","self","args","err","apply","instance","Constructor","_defineProperties","descriptor","protoProps","staticProps","runtime","define","wrap","innerFn","outerFn","tryLocsList","context","generator","create","protoGenerator","Generator","Context","_invoke","method","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","undefined","ContinueSentinel","record","tryCatch","resultName","next","nextLoc","sent","_sent","dispatchException","abrupt","GeneratorFunction","GeneratorFunctionPrototype","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","invoke","hasOwn","__await","unwrapped","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","values","iterable","iteratorMethod","iteratorSymbol","isNaN","Op","hasOwnProperty","$Symbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","Gp","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","__proto__","awrap","async","object","reverse","skipTempReset","prev","charAt","rootRecord","rootEntry","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","t","thrown","regeneratorRuntime","accidentalStrictMode","globalThis","Function","clampSubMenu","root","querySelector","classList","contains","offsetParent","remove","rect","getBoundingClientRect","right","add","clampMenu","currentPosition","bottom","offY","offX","overflowRight","overflowBottom","ContextMenu","core","callback","$element","clampTimeout","$root","isActive","newPosition","_this","options","toggle","hide","Event","height","closeable","onclose","clamp","destroyed","show","validContextMenuTarget","isValid","tagName","contextmenu","getElementById","require$$0","contextmenuApi","stopPropagation","_this2","once","OSjs","applicationName","metadata","proc","hoshino","available","getServices","running","enabled","toggleEnable","enable","$content","GraphView","definitions","services","getDeps","def","levels","visited","Set","remaining","iteration","currentLevel","nextRemaining","deps1","d","levelServices","service","deps","tab","toggleService","console"],"mappings":"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"}